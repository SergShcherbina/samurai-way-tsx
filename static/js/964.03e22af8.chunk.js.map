{"version":3,"file":"static/js/964.03e22af8.chunk.js","mappings":"sSACA,EAAoC,sCAApC,EAAyF,iC,SCS5EA,EAAuC,SAAC,GAIjD,IAJkH,IAAhEC,EAA+D,EAA/DA,SAAUC,EAAqD,EAArDA,gBAAiBC,EAAoC,EAApCA,YAAaC,EAAuB,EAAvBA,kBACpFC,EAAaC,KAAKC,KAAKL,EAAkBD,GAE3CO,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAGf,IACME,EAAoBL,KAAKC,KAAKF,EADhB,IAEpB,GAA0CO,EAAAA,EAAAA,UAAS,GAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACMC,EAHc,IAGYF,EAAgB,GAAmB,EAC7DG,EAJc,GAIUH,EAE9B,OACI,iBAAKI,UAAWC,EAAhB,WACI,mBACIC,SAAUN,GAAiB,EAC3BO,QAAS,kBAAMN,EAAiBD,EAAgB,IAFpD,iBAMCL,EACIa,QAAO,SAACC,GAAD,OAAUA,GAAQP,GAA0BO,GAAQN,KAC3DO,KAAI,SAACD,GAAD,OACD,kBAEIF,QAAS,kBAAMhB,EAAkBkB,IACjCL,UAAWd,IAAgBmB,EAAOJ,EAAiB,GAHvD,cAIGI,EAJH,MACSA,OAMjB,mBACIH,SAAUN,GAAiBF,EAC3BS,QAAS,kBAAMN,EAAiBD,EAAgB,IAFpD,qB,uCCrBCW,GACTC,EAAAA,EAAAA,GAA8B,CAACC,KAAM,cAArCD,EAb0D,SAACE,GAC3D,OACI,SAACC,EAAD,CAAMC,SAAUF,EAAMG,aAAtB,UACI,SAACC,EAAA,EAAD,CAAOC,KAAM,QACNC,YAAa,0BACbC,KAAM,SACNC,UAAWC,EAAAA,SASxBR,EAAOS,EAAAA,GAAAA,KAAH,mF,UCDGC,EAAQ,SAACX,GAElB,IAQMY,EAAc,SAACC,GACjB,OACI,SAAC,IAAD,CACIrB,UAPQsB,EAOaD,EAAKE,GAN3Bf,EAAMgB,iBAAiBC,MAAM,SAACF,GAAD,OAAgBA,IAAOD,MAOnDrB,QAAS,kBAZJ,SAACqB,EAAgBI,GAC9BA,EAASlB,EAAMkB,OAAOJ,GAAUd,EAAMmB,SAASL,GAWxBM,CAASP,EAAKE,GAAIF,EAAKQ,WAF1C,SAIKR,EAAKQ,SAAW,WAAa,WAVvB,IAACP,GAmBpB,OACI,UAAC,EAAD,YACI,SAACjB,EAAD,CAAgByB,SANP,SAACC,GACdvB,EAAMwB,WAAWD,EAAYE,UAMxBzB,EAAM0B,YAEH,SAACC,EAAA,EAAD,IAEA3B,EAAM4B,MAAMhC,KAAI,SAACiB,GAAD,OACZ,UAACgB,EAAD,CAAoBC,SAAUjB,EAAKQ,SAAnC,WAEI,UAACU,EAAD,CAAcC,GAAE,mBAAcnB,EAAKE,IAAnC,WACI,0BACI,gBAAKkB,IAAKpB,EAAKqB,OAAOC,MAAQtB,EAAKqB,OAAOC,MAAQC,EAC7CC,IAAK,kBAGd,UAACC,EAAD,YACI,qCAAW,uBAAIzB,EAAKR,WACpB,uCAAeQ,EAAK0B,OAAS1B,EAAK0B,OAAS,wBAIlD3B,EAAYC,KAdNA,EAAKE,QAmBxB,SAAC1C,EAAD,CACIG,YAAawB,EAAMxB,YACnBC,kBAAmBuB,EAAMvB,kBACzBF,gBAAiByB,EAAMwC,eACvBlE,SAAU0B,EAAM1B,eAM1BmE,GAAQC,EAAAA,EAAAA,IAAH,iNAcLzC,EAAOS,EAAAA,GAAAA,IAAH,kFAKJmB,EAAOnB,EAAAA,GAAAA,IAAH,sTAac,SAAAV,GAAK,OAAIA,EAAM8B,SAAW,UAAY,cAGxDC,GAAerB,EAAAA,EAAAA,IAAOiC,EAAAA,GAAPjC,CAAH,4XAmBD+B,GAOXH,EAAO5B,EAAAA,GAAAA,IAAH,6HCxIGkC,EAAb,0CACI,WAAY5C,GAA4B,IAAD,yBACnC,cAAMA,IAOVvB,kBAAoB,SAACoE,GACjB,EAAK7C,MAAM8C,SAASD,EAAY,EAAK7C,MAAM1B,WATR,EAYvCkD,WAAa,SAACD,GACV,EAAKvB,MAAM8C,SAAS,EAAK9C,MAAMxB,YAAa,EAAKwB,MAAM1B,SAAUiD,IAb9B,EAD3C,gDAKI,WACIwB,KAAK/C,MAAM8C,SAASC,KAAK/C,MAAMxB,YAAauE,KAAK/C,MAAM1B,YAN/D,oBAiBI,WACI,OACI,SAACqC,EAAD,CACIlC,kBAAmBsE,KAAKtE,kBACxB+D,eAAgBO,KAAK/C,MAAMwC,eAC3BlE,SAAUyE,KAAK/C,MAAM1B,SACrBE,YAAauE,KAAK/C,MAAMxB,YACxBoD,MAAOmB,KAAK/C,MAAM4B,MAClBF,WAAYqB,KAAK/C,MAAM0B,WACvBV,iBAAkB+B,KAAK/C,MAAMgB,iBAC7BE,OAAQ6B,KAAK/C,MAAMkB,OACnBC,SAAU4B,KAAK/C,MAAMmB,SACrBK,WAAYuB,KAAKvB,iBA7BjC,GAAoCwB,EAAAA,WCSvBC,GAAeC,EAAAA,EAAAA,KAZJ,SAACC,GACrB,MAAO,CACHvB,MAAOuB,EAAMC,UAAUxB,MACvBtD,SAAU6E,EAAMC,UAAU9E,SAC1BkE,eAAgBW,EAAMC,UAAU7E,gBAChCC,YAAa2E,EAAMC,UAAU5E,YAC7BkD,WAAYyB,EAAMC,UAAU1B,WAC5BV,iBAAkBmC,EAAMC,UAAUpC,oBAKW,CAEjD8B,SAAUO,EAAAA,GACVnC,OAAAA,EAAAA,GACAC,SAAAA,EAAAA,IAJwB+B,CAKzBN","sources":["webpack://samurai-way/./src/Component/users/ui/pagination/pagination.module.css?95fb","Component/users/ui/pagination/Pagination.tsx","Component/users/ui/UserSearchForm.tsx","Component/users/ui/Users.tsx","Component/users/ui/UsersContainer.tsx","Component/users/ui/ConnectUsers.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapperPagination\":\"pagination_wrapperPagination__OZ4Us\",\"selectedPage\":\"pagination_selectedPage__q1et8\"};","import React, {useState} from 'react';\nimport s from './pagination.module.css'\n\ntype PaginationType = {\n    pageSize: number;\n    totalItemsCount: number;\n    currentPage: number;\n    changeCurrentPage: (pageNumber: number) => void;\n};\n\nexport const Pagination: React.FC<PaginationType> = ({pageSize, totalItemsCount, currentPage, changeCurrentPage}) => {\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    const portionSize = 10 //количество отображаемых кнопок пагинации на странице\n    const paginationPortion = Math.ceil(pagesCount / portionSize) //сколько всего порций получится\n    const [portionNumber, setPortionNumber] = useState(1)\n    const firstPortionPageNumber = (portionNumber - 1) * portionSize + 1 //первая страница в порции\n    const lastPortionPageNumber = portionNumber * portionSize //последняя\n\n    return (\n        <div className={s.wrapperPagination}>\n            <button\n                disabled={portionNumber <= 1}\n                onClick={() => setPortionNumber(portionNumber - 1)}\n            >-10\n            </button>\n\n            {pages\n                .filter((page) => page >= firstPortionPageNumber && page <= lastPortionPageNumber)\n                .map((page) => (\n                    <span\n                        key={page}\n                        onClick={() => changeCurrentPage(page)}\n                        className={currentPage === page ? s.selectedPage : \"\"}\n                    > {page} </span>\n                ))}\n\n            <button\n                disabled={portionNumber >= paginationPortion}\n                onClick={() => setPortionNumber(portionNumber + 1)}\n            >+10\n            </button>\n        </div>\n    )\n}\n\n\n\n","import React, {FC} from 'react';\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {Input} from \"../../../common/form-controls/Input\";\nimport styled from \"styled-components\";\n\nexport type UserSearchFormType = {\n    value: string\n}\n\nconst UserSearch: FC<InjectedFormProps<UserSearchFormType>> = (props) => {\n    return (\n        <Root onSelect={props.handleSubmit}>\n            <Field name={'value'}\n                   placeholder={'search for user by name'}\n                   type={'search'}\n                   component={Input}\n            />\n        </Root>\n    );\n};\n\nexport const UserSearchForm =\n    reduxForm<UserSearchFormType>({form: 'userSearch'})(UserSearch);\n\nconst Root = styled.form`\n  padding-bottom: 10px;\n  border-bottom: 2px solid #fff;\n`","import React from \"react\";\nimport Ava from '../../../assets/img/userAva.jpg';\nimport {Spinner} from \"../../spinner/Spinner\";\nimport {NavLink} from \"react-router-dom\";\nimport {Pagination} from \"./pagination/Pagination\";\nimport styled, {keyframes} from \"styled-components\";\nimport {UserSearchForm, UserSearchFormType} from \"./UserSearchForm\";\nimport {UserType} from \"../model/users-types\";\nimport {Button} from \"../../Button/button\";\n\ntype UsersType = {\n    users: UserType[];\n    pageSize: number;\n    totalItemsCout: number;\n    currentPage: number;\n    isFetching: boolean;\n    disableBtnFollow: number[];\n    changeCurrentPage: (pageNumber: number) => void;\n    follow: (userId: number) => void;\n    unFollow: (userId: number) => void;\n    searchUser: (valueSearch: string) => void;\n};\n\nexport const Users = (props: UsersType) => {\n\n    const onFollow = (userId: number, follow: boolean) => {\n        follow ? props.follow(userId) : props.unFollow(userId)\n    }\n\n    const disableBtn = (userId: number) => {\n        return props.disableBtnFollow.some(((id: number) => id === userId))\n    }\n\n    const onFollowBtn = (user: UserType) => {\n        return (\n            <Button\n                disabled={disableBtn(user.id)}\n                onClick={() => onFollow(user.id, user.followed)}\n            >\n                {user.followed ? 'Unfollow' : 'Follow'}\n            </Button>\n        )\n    }\n\n    const onSubmit = (valueSearch: UserSearchFormType) => {\n        props.searchUser(valueSearch.value)\n    }\n\n    return (\n        <Root>\n            <UserSearchForm onSubmit={onSubmit}/>\n            {props.isFetching\n                ?\n                <Spinner/>\n                :\n                props.users.map((user: UserType) => (\n                    <User key={user.id} isFollow={user.followed}>\n\n                        <StyleNavLink to={`/profile/${user.id}`}>\n                            <div>\n                                <img src={user.photos.small ? user.photos.small : Ava}\n                                     alt={'user photo'}\n                                />\n                            </div>\n                            <Info>\n                                <div>name: <b>{user.name}</b></div>\n                                <span>status: {user.status ? user.status : 'empty status'}</span>\n                            </Info>\n                        </StyleNavLink>\n\n                        {onFollowBtn(user)}\n                    </User>\n                ))\n            }\n\n            <Pagination\n                currentPage={props.currentPage}\n                changeCurrentPage={props.changeCurrentPage}\n                totalItemsCount={props.totalItemsCout}\n                pageSize={props.pageSize}\n            />\n        </Root>\n    );\n};\n\nconst hello = keyframes`\n  0% {\n    transform: translateY(0);\n  }\n  30% {\n    transform: translateY(2px);\n  }\n  60% {\n    transform: translateY(-2px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n`\nconst Root = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px\n`\nconst User = styled.div <{ isFollow: boolean }>`\n  display: grid;\n  grid-template-columns: auto auto;\n  align-items: center;\n  justify-content: space-between;\n  gap: 30px;\n\n  border-radius: 10px;\n  background-color: var(--block-color);\n  padding: 20px 40px;\n\n  & button {\n    width: 100px;\n    background-color: ${props => props.isFollow ? '#ffab00' : '#2196f3;'};\n  }\n`\nconst StyleNavLink = styled(NavLink)`\n  display: flex;\n  gap: 20px;\n  align-items: center;\n  transition: all 0.1s;\n\n  & div:has(img) {\n    width: 80px;\n    height: 80px;\n  }\n\n  & img {\n    height: 100%;\n    width: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  &:hover {\n    animation: ${hello} 0.5s ease-in-out;\n  }\n\n  &:active {\n    transform: scale(0.98);\n  }\n`\nconst Info = styled.div`\n  overflow: auto;\n\n  & div {\n    font-size: 1.2rem;\n  }\n\n  & span {\n    color: #939393;\n  }\n`\n\n\n\n","import React from \"react\";\nimport {Users} from \"./Users\";\nimport {mapStateToPropsUsersType} from \"./ConnectUsers\";\n\nexport type UsersContainerType = mapStateToPropsUsersType & {\n    getUsers: (currentPage: number, pageSize: number, valueSearch?: string) => void;\n    follow: (userId: number) => void;\n    unFollow: (userId: number) => void;\n};\n\nexport class UsersContainer extends React.Component<UsersContainerType> {\n    constructor(props: UsersContainerType) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\n    }\n\n    changeCurrentPage = (pageNumber: number) => {\n        this.props.getUsers(pageNumber, this.props.pageSize);\n    };\n\n    searchUser = (valueSearch: string) => {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize, valueSearch);\n    }\n\n    render() {\n        return (\n            <Users\n                changeCurrentPage={this.changeCurrentPage}\n                totalItemsCout={this.props.totalItemsCout}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                users={this.props.users}\n                isFetching={this.props.isFetching}\n                disableBtnFollow={this.props.disableBtnFollow}\n                follow={this.props.follow}\n                unFollow={this.props.unFollow}\n                searchUser={this.searchUser}\n            />\n        );\n    }\n}\n\n","import {AppStateType} from \"../../../app/model/store\";\nimport {connect} from \"react-redux\";\nimport {follow, getUsersTC, unFollow} from \"../model/users-reducer\";\nimport {UsersContainer} from \"./UsersContainer\";\n\nexport type mapStateToPropsUsersType = ReturnType<typeof mapStateToProps>\n\nconst mapStateToProps = (state: AppStateType) => {\n    return {\n        users: state.usersPage.users,\n        pageSize: state.usersPage.pageSize,\n        totalItemsCout: state.usersPage.totalItemsCount,\n        currentPage: state.usersPage.currentPage,\n        isFetching: state.usersPage.isFetching,\n        disableBtnFollow: state.usersPage.disableBtnFollow,\n    };\n};\n\n//передали вторым параметром вместо mapDispatchToProps обьект с AC или thunk\nexport const ConnectUsers = connect(mapStateToProps, {\n    //здесь получаем callback thunk\n    getUsers: getUsersTC,\n    follow,\n    unFollow,\n})(UsersContainer);\n"],"names":["Pagination","pageSize","totalItemsCount","currentPage","changeCurrentPage","pagesCount","Math","ceil","pages","i","push","paginationPortion","useState","portionNumber","setPortionNumber","firstPortionPageNumber","lastPortionPageNumber","className","s","disabled","onClick","filter","page","map","UserSearchForm","reduxForm","form","props","Root","onSelect","handleSubmit","Field","name","placeholder","type","component","Input","styled","Users","onFollowBtn","user","userId","id","disableBtnFollow","some","follow","unFollow","onFollow","followed","onSubmit","valueSearch","searchUser","value","isFetching","Spinner","users","User","isFollow","StyleNavLink","to","src","photos","small","Ava","alt","Info","status","totalItemsCout","hello","keyframes","NavLink","UsersContainer","pageNumber","getUsers","this","React","ConnectUsers","connect","state","usersPage","getUsersTC"],"sourceRoot":""}