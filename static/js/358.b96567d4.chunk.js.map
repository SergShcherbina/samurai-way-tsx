{"version":3,"file":"static/js/358.b96567d4.chunk.js","mappings":"8RAIe,SAASA,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,IAAIG,EAAY,MAAPJ,EAAc,KAAyB,qBAAXK,QAA0BL,EAAIK,OAAOC,WAAaN,EAAI,cAE3F,GAAU,MAANI,EAAJ,CACA,IAIIG,EAAIC,EAJJC,EAAO,GACPC,GAAK,EACLC,GAAK,EAIT,IACE,IAAKP,EAAKA,EAAGQ,KAAKZ,KAAQU,GAAMH,EAAKH,EAAGS,QAAQC,QAC9CL,EAAKM,KAAKR,EAAGS,QAETf,GAAKQ,EAAKQ,SAAWhB,GAH4BS,GAAK,IAK5D,MAAOQ,GACPP,GAAK,EACLH,EAAKU,EACL,QACA,IACOR,GAAsB,MAAhBN,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIO,EAAI,MAAMH,GAIlB,OAAOC,GFtBuB,CAAqBT,EAAKC,KAAM,EAAAkB,EAAA,GAA2BnB,EAAKC,IGLjF,WACb,MAAM,IAAImB,UAAU,6IHIgF,GIJtG,I,YAAA,EAAoC,sCAApC,EAAyF,iC,SCS5EC,EAAuC,SAAC,GAIjD,IAJkH,IAAhEC,EAA+D,EAA/DA,SAAUC,EAAqD,EAArDA,gBAAiBC,EAAoC,EAApCA,YAAaC,EAAuB,EAAvBA,kBACpFC,EAAaC,KAAKC,KAAKL,EAAkBD,GAE3CO,EAAQ,GACH5B,EAAI,EAAGA,GAAKyB,EAAYzB,IAC7B4B,EAAMd,KAAKd,GAGf,IACM6B,EAAoBH,KAAKC,KAAKF,EADhB,IAEpB,KAA0CK,EAAAA,EAAAA,UAAS,GAAnD,GAAOC,EAAP,KAAsBC,EAAtB,KACMC,EAHc,IAGYF,EAAgB,GAAmB,EAC7DG,EAJc,GAIUH,EAE9B,OACI,iBAAKI,UAAWC,EAAhB,WACI,mBACIC,SAAUN,GAAiB,EAC3BO,QAAS,kBAAMN,EAAiBD,EAAgB,IAFpD,iBAMCH,EACIW,QAAO,SAACC,GAAD,OAAUA,GAAQP,GAA0BO,GAAQN,KAC3DO,KAAI,SAACD,GAAD,OACD,kBAEIF,QAAS,kBAAMd,EAAkBgB,IACjCL,UAAWZ,IAAgBiB,EAAOJ,EAAiB,GAHvD,cAIGI,EAJH,MACSA,OAMjB,mBACIH,SAAUN,GAAiBF,EAC3BS,QAAS,kBAAMN,EAAiBD,EAAgB,IAFpD,qB,uCCrBCW,GACTC,EAAAA,EAAAA,GAA8B,CAACC,KAAM,cAArCD,EAb0D,SAACE,GAC3D,OACI,SAACC,EAAD,CAAMC,SAAUF,EAAMG,aAAtB,UACI,SAACC,EAAA,EAAD,CAAOC,KAAM,QACNC,YAAa,0BACbC,KAAM,SACNC,UAAWC,EAAAA,SASxBR,EAAOS,EAAAA,GAAAA,KAAH,mFCFGC,EAAQ,SAACX,GAElB,IAQMY,EAAc,SAACC,GACjB,OACI,mBACIrB,UAPQsB,EAOaD,EAAKE,GAN3Bf,EAAMgB,iBAAiBC,MAAM,SAACF,GAAD,OAAgBA,IAAOD,MAOnDrB,QAAS,kBAZJ,SAACqB,EAAgBI,GAC9BA,EAASlB,EAAMkB,OAAOJ,GAAUd,EAAMmB,SAASL,GAWxBM,CAASP,EAAKE,GAAIF,EAAKQ,WAF1C,SAIKR,EAAKQ,SAAW,WAAa,WAVvB,IAACP,GAmBpB,OACI,UAAC,EAAD,YACI,SAACjB,EAAD,CAAgByB,SANP,SAACC,GACdvB,EAAMwB,WAAWD,EAAYrD,UAMxB8B,EAAMyB,YAEH,SAACC,EAAA,EAAD,IAEA1B,EAAM2B,MAAM/B,KAAI,SAACiB,GAAD,OACZ,UAACe,EAAD,CAAoBC,SAAUhB,EAAKQ,SAAnC,WAEI,UAACS,EAAD,CAAcC,GAAE,mBAAclB,EAAKE,IAAnC,WACI,0BACI,gBAAKiB,IAAKnB,EAAKoB,OAAOC,MAAQrB,EAAKoB,OAAOC,MAAQC,EAC7CC,IAAK,kBAGd,UAACC,EAAD,YACI,qCAAW,uBAAIxB,EAAKR,WACpB,uCAAeQ,EAAKyB,OAASzB,EAAKyB,OAAS,wBAIlD1B,EAAYC,KAdNA,EAAKE,QAmBxB,SAACxC,EAAD,CACIG,YAAasB,EAAMtB,YACnBC,kBAAmBqB,EAAMrB,kBACzBF,gBAAiBuB,EAAMuC,eACvB/D,SAAUwB,EAAMxB,eAM1BgE,GAAQC,EAAAA,EAAAA,IAAH,iNAcLxC,EAAOS,EAAAA,GAAAA,IAAH,kFAKJkB,EAAOlB,EAAAA,GAAAA,IAAH,2rBAiBc,SAAAV,GAAK,OAAIA,EAAM6B,SAAW,UAAY,cAiBxDC,GAAepB,EAAAA,EAAAA,IAAOgC,EAAAA,GAAPhC,CAAH,4XAmBD8B,GAOXH,EAAO3B,EAAAA,GAAAA,IAAH,6HCzJGiC,EAAb,0CACI,WAAY3C,GAA4B,IAAD,yBACnC,cAAMA,IAOVrB,kBAAoB,SAACiE,GACjB,EAAK5C,MAAM6C,SAASD,EAAY,EAAK5C,MAAMxB,WATR,EAYvCgD,WAAa,SAACD,GACV,EAAKvB,MAAM6C,SAAS,EAAK7C,MAAMtB,YAAa,EAAKsB,MAAMxB,SAAU+C,IAb9B,EAD3C,gDAKI,WACIuB,KAAK9C,MAAM6C,SAASC,KAAK9C,MAAMtB,YAAaoE,KAAK9C,MAAMxB,YAN/D,oBAiBI,WACI,OACI,SAACmC,EAAD,CACIhC,kBAAmBmE,KAAKnE,kBACxB4D,eAAgBO,KAAK9C,MAAMuC,eAC3B/D,SAAUsE,KAAK9C,MAAMxB,SACrBE,YAAaoE,KAAK9C,MAAMtB,YACxBiD,MAAOmB,KAAK9C,MAAM2B,MAClBF,WAAYqB,KAAK9C,MAAMyB,WACvBT,iBAAkB8B,KAAK9C,MAAMgB,iBAC7BE,OAAQ4B,KAAK9C,MAAMkB,OACnBC,SAAU2B,KAAK9C,MAAMmB,SACrBK,WAAYsB,KAAKtB,iBA7BjC,GAAoCuB,EAAAA,WCSvBC,GAAeC,EAAAA,EAAAA,KAZJ,SAACC,GACrB,MAAO,CACHvB,MAAOuB,EAAMC,UAAUxB,MACvBnD,SAAU0E,EAAMC,UAAU3E,SAC1B+D,eAAgBW,EAAMC,UAAU1E,gBAChCC,YAAawE,EAAMC,UAAUzE,YAC7B+C,WAAYyB,EAAMC,UAAU1B,WAC5BT,iBAAkBkC,EAAMC,UAAUnC,oBAKW,CAEjD6B,SAAUO,EAAAA,GACVlC,OAAAA,EAAAA,GACAC,SAAAA,EAAAA,IAJwB8B,CAKzBN","sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://samurai-way/./src/Component/users/ui/pagination/pagination.module.css?95fb","Component/users/ui/pagination/Pagination.tsx","Component/users/ui/UserSearchForm.tsx","Component/users/ui/Users.tsx","Component/users/ui/UsersContainer.tsx","Component/users/ui/ConnectUsers.tsx"],"sourcesContent":["import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nexport default {\"wrapperPagination\":\"pagination_wrapperPagination__OZ4Us\",\"selectedPage\":\"pagination_selectedPage__q1et8\"};","import React, {useState} from 'react';\nimport s from './pagination.module.css'\n\ntype PaginationType = {\n    pageSize: number;\n    totalItemsCount: number;\n    currentPage: number;\n    changeCurrentPage: (pageNumber: number) => void;\n};\n\nexport const Pagination: React.FC<PaginationType> = ({pageSize, totalItemsCount, currentPage, changeCurrentPage}) => {\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    const portionSize = 10 //количество отображаемых кнопок пагинации на странице\n    const paginationPortion = Math.ceil(pagesCount / portionSize) //сколько всего порций получится\n    const [portionNumber, setPortionNumber] = useState(1)\n    const firstPortionPageNumber = (portionNumber - 1) * portionSize + 1 //первая страница в порции\n    const lastPortionPageNumber = portionNumber * portionSize //последняя\n\n    return (\n        <div className={s.wrapperPagination}>\n            <button\n                disabled={portionNumber <= 1}\n                onClick={() => setPortionNumber(portionNumber - 1)}\n            >-10\n            </button>\n\n            {pages\n                .filter((page) => page >= firstPortionPageNumber && page <= lastPortionPageNumber)\n                .map((page) => (\n                    <span\n                        key={page}\n                        onClick={() => changeCurrentPage(page)}\n                        className={currentPage === page ? s.selectedPage : \"\"}\n                    > {page} </span>\n                ))}\n\n            <button\n                disabled={portionNumber >= paginationPortion}\n                onClick={() => setPortionNumber(portionNumber + 1)}\n            >+10\n            </button>\n        </div>\n    )\n}\n\n\n\n","import React, {FC} from 'react';\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {Input} from \"../../../common/form-controls/Input\";\nimport styled from \"styled-components\";\n\nexport type UserSearchFormType = {\n    value: string\n}\n\nconst UserSearch: FC<InjectedFormProps<UserSearchFormType>> = (props) => {\n    return (\n        <Root onSelect={props.handleSubmit}>\n            <Field name={'value'}\n                   placeholder={'search for user by name'}\n                   type={'search'}\n                   component={Input}\n            />\n        </Root>\n    );\n};\n\nexport const UserSearchForm =\n    reduxForm<UserSearchFormType>({form: 'userSearch'})(UserSearch);\n\nconst Root = styled.form`\n  padding-bottom: 10px;\n  border-bottom: 2px solid #fff;\n`","import React from \"react\";\nimport Ava from '../../../assets/img/userAva.jpg';\nimport {UserType} from \"../model/users-reducer\";\nimport {Spinner} from \"../../spinner/Spinner\";\nimport {NavLink} from \"react-router-dom\";\nimport {Pagination} from \"./pagination/Pagination\";\nimport styled, {keyframes} from \"styled-components\";\nimport {UserSearchForm, UserSearchFormType} from \"./UserSearchForm\";\n\ntype UsersType = {\n    users: UserType[];\n    pageSize: number;\n    totalItemsCout: number;\n    currentPage: number;\n    isFetching: boolean;\n    disableBtnFollow: number[];\n    changeCurrentPage: (pageNumber: number) => void;\n    follow: (userId: number) => void;\n    unFollow: (userId: number) => void;\n    searchUser: (valueSearch: string) => void;\n};\n\nexport const Users = (props: UsersType) => {\n\n    const onFollow = (userId: number, follow: boolean) => {\n        follow ? props.follow(userId) : props.unFollow(userId)\n    }\n\n    const disableBtn = (userId: number) => {\n        return props.disableBtnFollow.some(((id: number) => id === userId))\n    }\n\n    const onFollowBtn = (user: UserType) => {\n        return (\n            <button\n                disabled={disableBtn(user.id)}\n                onClick={() => onFollow(user.id, user.followed)}\n            >\n                {user.followed ? 'Unfollow' : 'Follow'}\n            </button>\n        )\n    }\n\n    const onSubmit = (valueSearch: UserSearchFormType) => {\n        props.searchUser(valueSearch.value)\n    }\n\n    return (\n        <Root>\n            <UserSearchForm onSubmit={onSubmit}/>\n            {props.isFetching\n                ?\n                <Spinner/>\n                :\n                props.users.map((user: UserType) => (\n                    <User key={user.id} isFollow={user.followed}>\n\n                        <StyleNavLink to={`/profile/${user.id}`}>\n                            <div>\n                                <img src={user.photos.small ? user.photos.small : Ava}\n                                     alt={'user photo'}\n                                />\n                            </div>\n                            <Info>\n                                <div>name: <b>{user.name}</b></div>\n                                <span>status: {user.status ? user.status : 'empty status'}</span>\n                            </Info>\n                        </StyleNavLink>\n\n                        {onFollowBtn(user)}\n                    </User>\n                ))\n            }\n\n            <Pagination\n                currentPage={props.currentPage}\n                changeCurrentPage={props.changeCurrentPage}\n                totalItemsCount={props.totalItemsCout}\n                pageSize={props.pageSize}\n            />\n        </Root>\n    );\n};\n\nconst hello = keyframes`\n  0% {\n    transform: translateY(0);\n  }\n  30% {\n    transform: translateY(2px);\n  }\n  60% {\n    transform: translateY(-2px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n`\nconst Root = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px\n`\nconst User = styled.div <{ isFollow: boolean }>`\n  display: grid;\n  grid-template-columns: auto auto;\n  align-items: center;\n  justify-content: space-between;\n  gap: 30px;\n\n  border-radius: 10px;\n  background-color: var(--color-bloks);\n  padding: 20px 40px;\n\n  & button {\n    cursor: pointer;\n    padding: 10px;\n    width: 100px;\n    border: none;\n    border-radius: 5px;\n    background-color: ${props => props.isFollow ? '#ffab00' : '#2196f3;'};\n    color: var(--color-bloks);\n    font-size: 1rem;\n    box-shadow: 2px 2px 5px #777575;\n    transition: all 0.2s;\n\n    &:hover {\n      transform: translateY(2px);\n      box-shadow: 1px 1px 1px #777575;\n    }\n\n    &:active {\n      transform: translateY(3px);\n      box-shadow: none;\n    }\n  }\n`\nconst StyleNavLink = styled(NavLink)`\n  display: flex;\n  gap: 20px;\n  align-items: center;\n  transition: all 0.1s;\n\n  & div:has(img) {\n    width: 80px;\n    height: 80px;\n  }\n\n  & img {\n    height: 100%;\n    width: 100%;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n\n  &:hover {\n    animation: ${hello} 0.5s ease-in-out;\n  }\n\n  &:active {\n    transform: scale(0.98);\n  }\n`\nconst Info = styled.div`\n  overflow: auto;\n\n  & div {\n    font-size: 1.2rem;\n  }\n\n  & span {\n    color: #939393;\n  }\n`\n\n\n\n","import React from \"react\";\nimport {Users} from \"./Users\";\nimport {mapStateToPropsUsersType} from \"./ConnectUsers\";\n\nexport type UsersContainerType = mapStateToPropsUsersType & {\n    getUsers: (currentPage: number, pageSize: number, valueSearch?: string) => void;\n    follow: (userId: number) => void;\n    unFollow: (userId: number) => void;\n};\n\nexport class UsersContainer extends React.Component<UsersContainerType> {\n    constructor(props: UsersContainerType) {\n        super(props);\n    }\n\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\n    }\n\n    changeCurrentPage = (pageNumber: number) => {\n        this.props.getUsers(pageNumber, this.props.pageSize);\n    };\n\n    searchUser = (valueSearch: string) => {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize, valueSearch);\n    }\n\n    render() {\n        return (\n            <Users\n                changeCurrentPage={this.changeCurrentPage}\n                totalItemsCout={this.props.totalItemsCout}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                users={this.props.users}\n                isFetching={this.props.isFetching}\n                disableBtnFollow={this.props.disableBtnFollow}\n                follow={this.props.follow}\n                unFollow={this.props.unFollow}\n                searchUser={this.searchUser}\n            />\n        );\n    }\n}\n\n","import {AppStateType} from \"../../../app/model/store\";\nimport {connect} from \"react-redux\";\nimport {follow, getUsersTC, unFollow} from \"../model/users-reducer\";\nimport {UsersContainer} from \"./UsersContainer\";\n\nexport type mapStateToPropsUsersType = ReturnType<typeof mapStateToProps>\n\nconst mapStateToProps = (state: AppStateType) => {\n    return {\n        users: state.usersPage.users,\n        pageSize: state.usersPage.pageSize,\n        totalItemsCout: state.usersPage.totalItemsCount,\n        currentPage: state.usersPage.currentPage,\n        isFetching: state.usersPage.isFetching,\n        disableBtnFollow: state.usersPage.disableBtnFollow,\n    };\n};\n\n//передали вторым параметром вместо mapDispatchToProps обьект с AC или thunk\nexport const ConnectUsers = connect(mapStateToProps, {\n    //здесь получаем callback thunk\n    getUsers: getUsersTC,\n    follow,\n    unFollow,\n})(UsersContainer);\n"],"names":["_slicedToArray","arr","i","Array","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","Pagination","pageSize","totalItemsCount","currentPage","changeCurrentPage","pagesCount","Math","ceil","pages","paginationPortion","useState","portionNumber","setPortionNumber","firstPortionPageNumber","lastPortionPageNumber","className","s","disabled","onClick","filter","page","map","UserSearchForm","reduxForm","form","props","Root","onSelect","handleSubmit","Field","name","placeholder","type","component","Input","styled","Users","onFollowBtn","user","userId","id","disableBtnFollow","some","follow","unFollow","onFollow","followed","onSubmit","valueSearch","searchUser","isFetching","Spinner","users","User","isFollow","StyleNavLink","to","src","photos","small","Ava","alt","Info","status","totalItemsCout","hello","keyframes","NavLink","UsersContainer","pageNumber","getUsers","this","React","ConnectUsers","connect","state","usersPage","getUsersTC"],"sourceRoot":""}